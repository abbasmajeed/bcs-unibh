-- Generated by Oracle SQL Developer Data Modeler 3.3.0.747
--   at:        2013-10-23 01:16:19 BRST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE TABLE CONSULTA
  (
    COD_CONSULTA      INTEGER NOT NULL ,
    DATA              DATE NOT NULL ,
    COD_PACIENTE      INTEGER NOT NULL ,
    CRM               INTEGER NOT NULL ,
    COD_ESPECIALIDADE INTEGER NOT NULL ,
    DESC_SINTOMAS     VARCHAR2 (200 CHAR) ,
    DESC_DIAGNOSTICO  VARCHAR2 (200 CHAR)
  ) ;
ALTER TABLE CONSULTA ADD CONSTRAINT CONSULTA_PK PRIMARY KEY
(
  COD_CONSULTA, DATA
)
;

CREATE TABLE CONSULTA_EXAME
  (
    COD_CONSULTA INTEGER NOT NULL ,
    DATA         DATE NOT NULL ,
    COD_EXAME    INTEGER NOT NULL
  ) ;
ALTER TABLE CONSULTA_EXAME ADD CONSTRAINT CONSULTA_EXAME_PK PRIMARY KEY
(
  COD_EXAME, DATA, COD_CONSULTA
)
;

CREATE TABLE CONSULTA_MEDICAMENTO
  (
    COD_CONSULTA    INTEGER NOT NULL ,
    DATA            DATE NOT NULL ,
    COD_MEDICAMENTO INTEGER NOT NULL
  ) ;
ALTER TABLE CONSULTA_MEDICAMENTO ADD CONSTRAINT CONSULTA_MEDICAMENTO_PK PRIMARY KEY
(
  COD_CONSULTA, DATA, COD_MEDICAMENTO
)
;

CREATE TABLE CONSULTA_PROCEDIMENTO
  (
    COD_CONSULTA     INTEGER NOT NULL ,
    DATA             DATE NOT NULL ,
    COD_PROCEDIMENTO INTEGER NOT NULL
  ) ;
ALTER TABLE CONSULTA_PROCEDIMENTO ADD CONSTRAINT CONSULTA_PROCEDIMENTO_PK PRIMARY KEY
(
  DATA, COD_CONSULTA, COD_PROCEDIMENTO
)
;

CREATE TABLE ESPECIALIDADE
  (
    COD_ESPECIALIDADE  INTEGER NOT NULL ,
    DESC_ESPECIALIDADE VARCHAR2 (50 CHAR)
  ) ;
ALTER TABLE ESPECIALIDADE ADD CONSTRAINT ESPECIALIDADE_PK PRIMARY KEY
(
  COD_ESPECIALIDADE
)
;

CREATE TABLE EXAME
  (
    COD_EXAME  INTEGER NOT NULL ,
    DESC_EXAME VARCHAR2 (70 CHAR) ,
    VLR_EXAME FLOAT
  ) ;
ALTER TABLE EXAME ADD CONSTRAINT EXAME_PK PRIMARY KEY
(
  COD_EXAME
)
;

CREATE TABLE MEDICAMENTO
  (
    COD_MEDICAMENTO  INTEGER NOT NULL ,
    DESC_MEDICAMENTO VARCHAR2 (70 CHAR) ,
    VLR_MEDICAMENTO FLOAT
  ) ;
ALTER TABLE MEDICAMENTO ADD CONSTRAINT MEDICAMENTO_PK PRIMARY KEY
(
  COD_MEDICAMENTO
)
;

CREATE TABLE MEDICO
  ( CRM INTEGER NOT NULL , NOME_MEDICO VARCHAR2 (70 CHAR)
  ) ;
ALTER TABLE MEDICO ADD CONSTRAINT MEDICO_PK PRIMARY KEY
(
  CRM
)
;

CREATE TABLE MEDICO_ESPECIALIDADE
  (
    CRM               INTEGER NOT NULL ,
    COD_ESPECIALIDADE INTEGER NOT NULL
  ) ;
ALTER TABLE MEDICO_ESPECIALIDADE ADD CONSTRAINT MEDICO_ESPECIALIDADE_PK PRIMARY KEY
(
  CRM, COD_ESPECIALIDADE
)
;

CREATE TABLE PACIENTE
  (
    COD_PACIENTE  INTEGER NOT NULL ,
    NOME_PACIENTE VARCHAR2 (70 CHAR) ,
    COD_PLANO     INTEGER NOT NULL
  ) ;
ALTER TABLE PACIENTE ADD CONSTRAINT PACIENTE_PK PRIMARY KEY
(
  COD_PACIENTE
)
;

CREATE TABLE PLANO_SAUDE
  (
    COD_PLANO  INTEGER NOT NULL ,
    NOME_PLANO VARCHAR2 (70 CHAR) ,
    TIPO_PS    INTEGER NOT NULL
  ) ;
ALTER TABLE PLANO_SAUDE ADD CONSTRAINT PLANO_SAUDE_PK PRIMARY KEY
(
  COD_PLANO
)
;

CREATE TABLE PROCEDIMENTO
  (
    COD_PROCEDIMENTO  INTEGER NOT NULL ,
    DESC_PROCEDIMENTO VARCHAR2 (50 CHAR) ,
    VLR_PROCEDIMENTO FLOAT NOT NULL
  ) ;
ALTER TABLE PROCEDIMENTO ADD CONSTRAINT PROCEDIMENTO_PK PRIMARY KEY
(
  COD_PROCEDIMENTO
)
;

CREATE TABLE TIPO_PS
  ( TIPO_PS INTEGER NOT NULL , NOME_PS VARCHAR2 (50)
  ) ;
ALTER TABLE TIPO_PS ADD CONSTRAINT TIPO_PS_PK PRIMARY KEY
(
  TIPO_PS
)
;

ALTER TABLE CONSULTA_EXAME ADD CONSTRAINT CONSULTA_EXAME_CONSULTA_FK FOREIGN KEY ( COD_CONSULTA, DATA ) REFERENCES CONSULTA ( COD_CONSULTA, DATA ) ;

ALTER TABLE CONSULTA_EXAME ADD CONSTRAINT CONSULTA_EXAME_EXAME_FK FOREIGN KEY ( COD_EXAME ) REFERENCES EXAME ( COD_EXAME ) ;

ALTER TABLE CONSULTA ADD CONSTRAINT CONSULTA_MEDICO_ESPEC_FK FOREIGN KEY ( CRM, COD_ESPECIALIDADE ) REFERENCES MEDICO_ESPECIALIDADE ( CRM, COD_ESPECIALIDADE ) ;

ALTER TABLE CONSULTA_MEDICAMENTO ADD CONSTRAINT CONSULTA_MED_CONSULTA_FK FOREIGN KEY ( COD_CONSULTA, DATA ) REFERENCES CONSULTA ( COD_CONSULTA, DATA ) ;

ALTER TABLE CONSULTA_MEDICAMENTO ADD CONSTRAINT CONSULTA_MED_MEDICAMENTO_FK FOREIGN KEY ( COD_MEDICAMENTO ) REFERENCES MEDICAMENTO ( COD_MEDICAMENTO ) ;

ALTER TABLE CONSULTA ADD CONSTRAINT CONSULTA_PACIENTE_FK FOREIGN KEY ( COD_PACIENTE ) REFERENCES PACIENTE ( COD_PACIENTE ) ;

ALTER TABLE CONSULTA_PROCEDIMENTO ADD CONSTRAINT CONSULTA_PROC_CONSULTA_FK FOREIGN KEY ( COD_CONSULTA, DATA ) REFERENCES CONSULTA ( COD_CONSULTA, DATA ) ;

ALTER TABLE CONSULTA_PROCEDIMENTO ADD CONSTRAINT CONSULTA_PROC_PROCEDIMENTO_FK FOREIGN KEY ( COD_PROCEDIMENTO ) REFERENCES PROCEDIMENTO ( COD_PROCEDIMENTO ) ;

ALTER TABLE MEDICO_ESPECIALIDADE ADD CONSTRAINT MEDICO_ESPEC_ESPECIALIDADE_FK FOREIGN KEY ( COD_ESPECIALIDADE ) REFERENCES ESPECIALIDADE ( COD_ESPECIALIDADE ) ;

ALTER TABLE MEDICO_ESPECIALIDADE ADD CONSTRAINT MEDICO_ESPEC_MEDICO_FK FOREIGN KEY ( CRM ) REFERENCES MEDICO ( CRM ) ;

ALTER TABLE PACIENTE ADD CONSTRAINT PACIENTE_PLANO_SAUDE_FK FOREIGN KEY ( COD_PLANO ) REFERENCES PLANO_SAUDE ( COD_PLANO ) ;

ALTER TABLE PLANO_SAUDE ADD CONSTRAINT PLANO_SAUDE_TIPO_PS_FK FOREIGN KEY ( TIPO_PS ) REFERENCES TIPO_PS ( TIPO_PS ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            13
-- CREATE INDEX                             0
-- ALTER TABLE                             25
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
